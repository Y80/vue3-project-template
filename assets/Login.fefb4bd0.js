import{r as e,h as a,i as s,d as r,e as n,j as l,F as o,I as i,B as t}from"./vendor.78de62db.js";/* empty css              *//* empty css              */import{s as d,r as u}from"./index.b40f5943.js";var m="_login_1wbe2_1";const h={username:{required:!0,message:"账号不能为空",trigger:"blur"},password:{required:!0,message:"密码不能为空",trigger:"blur"}};function p(){const r=e({username:"",password:""}),n=a(!1);return{model:r,rules:h,handleFinish:function(){var e,a;n.value=!0,(e=r.username,a=r.password,new Promise(((s,r)=>{setTimeout((()=>{"y80"===e&&"123456"===a?s({token:""}):r(new Error("密码或账户错误"))}),2e3)}))).then((e=>{s.success("登录成功"),d.dispatch("setToken",e).then((()=>{u.push("/home")}))})).catch((e=>{s.error(e.message)})).finally((()=>{n.value=!1}))},handleFinishFailed:function(){s.warn("请检查您的输入")},submitting:n}}var c=r({setup:function(){const e=p();return()=>n("div",{class:m},[n("h1",null,[l("后台管理系统")]),n(o,{model:e.model,rules:e.rules,onFinish:e.handleFinish,onFinishFailed:e.handleFinishFailed,labelCol:{span:4},wrapperCol:{span:20},hideRequiredMark:!0,colon:!1},{default:()=>[n(o.Item,{label:"账号",name:"username"},{default:()=>[n(i,{allowClear:!0,value:e.model.username,onChange:a=>{e.model.username=a.target.value}},null)]}),n(o.Item,{label:"密码",name:"password"},{default:()=>[n(i.Password,{name:"password",value:e.model.password,onChange:a=>{e.model.password=a.target.value}},null)]}),n(t,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:e.submitting.value},{default:()=>[l("登录")]})]})])}});export default c;
